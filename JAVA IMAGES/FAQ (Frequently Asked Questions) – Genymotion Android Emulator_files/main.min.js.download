function getGravatarUrl(email){var host="https://www.genymotion.com",defaultImageUrl=encodeURIComponent(host+"/wp-content/themes/genymobile/img/default-gravatar.png");return"//www.gravatar.com/avatar/"+$.md5(email)+"?format=svg&d="+defaultImageUrl}function after_get_current_user_info_in_header(status,response,error_message,data){if(eraseCookie("geny_user"),"success"==status){if(0==data.validated)return void(window.location.pathname===wp_vars.links["account-not-activated"]||$(".page-account-activation").length||(window.location=wp_vars.links["account-not-activated"]+"?email="+encodeURIComponent(data.user.email)));data.customer_uuid&&createCookie("geny_user",!0),switch_logged_in_button(data);var contact_form_email=$('#contact-form [name="email"]');contact_form_email.length&&data.user&&(contact_form_email.attr("data-user-logged-in",!0),contact_form_email.val(data.user.email).attr("readonly",""))}else switch_logged_in_button({})}function switch_logged_in_button(data){"undefined"==typeof data||$.isEmptyObject(data)?(0!=$(".page-template-page-sign-in").length?$("#logged_out_button").hide():($("#logged_out_button").show(),(page.isGenyKiosk()||page.isGenyDeploy())&&$("#logged_out_button").hide()),0!=$(".page-profile").length&&(window.location.href=wp_vars.links["sign-in"])):($("#logged_out_button").hide(),data.user.email=data.user.email.trim().toLowerCase(),$("#logged_in_button").find("img").attr("src",getGravatarUrl(data.user.email)),page.isGenyKiosk()||page.isGenyDeploy()?$("#logged_in_button").hide():$("#logged_in_button").addClass("visible"))}function goToAnchor(target_id){target_id=target_id.replace("#","");var target=$("#faq-"+target_id),targetTop=0;if(target.length){targetTop=target.offset().top-140;var old_id=target.attr("id");target.attr("id",""),window.location.hash=target_id,target.attr("id",old_id)}else window.location.hash="!";$("html, body").stop().animate({scrollTop:targetTop},{duration:800})}function append_address_html(address,replaced){var country_name=$('#address-form-country [value="'+address.iso_code+'"]').text(),generated_html="";generated_html+='<div id="address-'+address.id+'" class="grid-item for-s-6 for-m-6 for-l-4" style="margin-bottom:3em;">',generated_html+='<div class="address-item">',generated_html+="<p>"+address.alias+"<br/>",generated_html+=address.address1+"<br/>",address.address2&&(generated_html+=address.address2+"<br />"),generated_html+=address.city+"<br />",generated_html+=country_name+" "+address.postcode+"<br />",""!=address.phone&&(generated_html+=address.phone),generated_html+='</p><a href="#" class="button address-popup-open">Edit Address</a>',generated_html+="</div></div>",replaced?replaced.replaceWith(generated_html):$("#addresses").append(generated_html),$("#addresses #address-"+address.id).find(".address-popup-open").data("address",address)}function handleLoggedButton(){function setPosition(){$loggedButton[0].style.display="inline-block",$loggedNav.css({left:$loggedButton.offset().left-$loggedNav.width()+30+$loggedButton.width()/2,top:$("#notification_bar").height()}),$loggedButton[0].style.display=""}var $close=$('<a href="#" class="close-logged-nav"/>');$loggedNav.append($close),setPosition(),$(window).on("resize load",setPosition),$close.on("click",function(e){e.preventDefault(),$loggedButton.trigger("click")}),$loggedButton.on("click",function(e){e.preventDefault(),loggedAnimation||(loggedAnimation=!0,$loggedNav.hasClass("is-open")?closeLoggedInMenu():($loggedNav.addClass("is-open"),$loggedNav.removeClass("is-close"),$loggedButton.addClass("is-open"),$loggedButton.removeClass("is-close"),$(".nav-holder").length&&$(".nav-holder").hasClass("active")&&$(".nav-holder").removeClass("active")),setTimeout(function(){loggedAnimation=!1},500))})}function closeLoggedInMenu(){$loggedNav.removeClass("is-open"),$loggedNav.addClass("is-close"),$loggedButton.removeClass("is-open"),$loggedButton.addClass("is-close")}function setActiveNote(note,scrollToTarget){$(".note-content").hide();var target=$("#note-"+note);target.show(),scrollToTarget&&setTimeout(function(){var targetTop=scrollToTarget.offset().top-140;$("html, body").stop().animate({scrollTop:targetTop},{duration:800})},250)}function createCookie(name,value,days){var expires;if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toGMTString()}else expires="";document.cookie=name+"="+value+expires+"; path=/"}function readCookie(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}function eraseCookie(name){createCookie(name,"",-1)}function reinitCustomSelect(select){select.parent().find(".custom-select").remove(),select.removeClass("hasCustomSelect").removeAttr("style").off(),select.customSelect({customClass:"custom-select"})}function adjustAnchor(){$(":target").length>0&&window.scrollTo(0,$(":target").offset().top-140)}Dropzone.autoDiscover=!1;var licensesLoaded=!1,pageLoaded=!1;$(function(){$(".userIsLogged").hide(),$(".userIsNotLogged").show(),$(".links-holder").hide()});var page={isGenyKiosk:function(){return"/genykiosk/"===window.location.pathname},isGenyDeploy:function(){return"/genydeploy/"===window.location.pathname}},pages={get:"/get-full-version/",download:"/download/",downloadTrial:"/download-trial/",downloadHandler:"/download-handler/"},currentPage={isDownload:function(){return window.location.pathname===pages.download},isDownloadTrial:function(){return window.location.pathname===pages.downloadTrial}};jQuery.validator.setDefaults({onfocusout:!1,onkeyup:function(e){this.element(e)}}),jQuery.validator.addMethod("stripeCVC",function(value,element){return Stripe.card.validateCVC(value)},wp_vars.translations.stripe_invalid_cvc),jQuery.validator.addMethod("stripeExpiryDate",function(value,element){var split=value.split("/");return Stripe.card.validateExpiry(parseInt(split[0],10),parseInt(split[1],10))},wp_vars.translations.stripe_invalid_expiry),jQuery.validator.addMethod("stripeCardNumber",function(value,element){return Stripe.card.validateCardNumber(value)},wp_vars.translations.stripe_invalid_number),jQuery.validator.addMethod("companyNameValidation",function(value,element){return""!=value||""==$(element).closest("form").find('[name="vat_number"]').val()},jQuery.validator.messages.required);var jq_validate_localized={};for(var key in wp_vars.translations.jq_validate)jq_validate_localized[key]=$.validator.format(wp_vars.translations.jq_validate[key]);$.extend($.validator.messages,jq_validate_localized),function(){var cookie_bar=$("#cookie-bar"),cookie_name="cookie-bar-closed";readCookie(cookie_name)||cookie_bar.show(),cookie_bar.on("click","#cookie-bar-close",function(e){e.preventDefault(),cookie_bar.fadeOut(),createCookie(cookie_name,!0,365)}),$("#fullscreen-video .close").on("click",function(e){e.preventDefault(),$("body").removeClass("overflow-hidden"),$("#fullscreen-video").hide(),$("#wpadminbar").show(),$("#fullscreen-video iframe").removeAttr("src")}),$("body").on("click","a.disabled",function(e){e.preventDefault()}),$(".frm_forms").find("select").customSelect({customClass:"custom-select"}),$(".frm_radio").each(function(){var label=$(this).find("label"),input=$(this).find('input[type="radio"]');input.insertBefore(label)}),$(".frm_checkbox").each(function(){var label=$(this).find("label"),input=$(this).find('input[type="checkbox"]');input.addClass("primary-checkbox").insertBefore(label)})}();var geny_html=function(){return{formatPrice:function(price){if(0==price)return"0,00";var formatedPrice=Math.round(100*price)/100;return formatedPrice.toLocaleString("fr-FR",{minimumFractionDigits:2})},formatTimeLeft:function(last_expiration_date){var result_time=new Date(last_expiration_date)-new Date,result=result_time<0?null:last_expiration_date;if(result){var now=new Date,expiration=new Date(last_expiration_date),diff=new Date(expiration.getFullYear()-now.getFullYear(),expiration.getMonth()-now.getMonth(),expiration.getDate()-now.getDate());result=(diff.getYear()>0?diff.getYear()+" "+(diff.getYear()>1?wp_vars.translations.years:wp_vars.translations.year)+" ":"")+(diff.getMonth()>0?diff.getMonth()+" "+(diff.getMonth()>1?wp_vars.translations.months:wp_vars.translations.month)+" ":"")+diff.getDate()+" "+(diff.getDate()>1?wp_vars.translations.days:wp_vars.translations.day)}return result},populateElementWithVariables:function(element,vars){var container=$(element);container.find("[data-if]").each(function(key,element){var var_name=$(element).data("if");vars[var_name]||$(element).remove()}),container.find("[data-nif]").each(function(key,element){var var_name=$(element).data("nif");vars[var_name]&&$(element).remove()}),container.find("[data-bind]").each(function(key,element){var var_name=$(element).data("bind");void 0!=vars[var_name]&&("INPUT"==element.nodeName?$(element).val(vars[var_name]):$(element).html(vars[var_name]))}),container.find("[data-bind-href]").each(function(key,element){var var_name=$(element).data("bind-href");vars[var_name]&&(element.href=vars[var_name])}),container.find("[data-bind-data-id]").each(function(key,element){var var_name=$(element).data("bind-data-id");vars[var_name]&&$(element).attr("data-id",vars[var_name])})}}}(),geny_cart=function(){var helper={cart_cookie_name:"geny_cart",step_cookie_name:"geny_checkout_step",create_cart:function(product_id,qty,success_callback){console.log("create_cart"),create_cart(null,{product_id:product_id,product_quantity:qty},function(text_status,response,billing_api_response,data){"success"==text_status?(createCookie(helper.cart_cookie_name,data.data.id),success_callback()):(console.log(arguments),helper.error(wp_vars.translations.cart_creation_problem))})},check_cart_id:function(cart_id,success_callback,error_callback){console.log("check_cart_id"),retreve_cart(cart_id,function(text_status,response,billing_api_response,data){"success"==text_status?success_callback():error_callback()})},update_cart:function(cart_id,product_id,qty,success_callback,error_callback){console.log("update_cart"),update_cart(cart_id,null,{product_id:product_id,product_quantity:qty},function(text_status,response,billing_api_response,data){"success"==text_status?success_callback():error_callback()})},error:function(msg){swal({title:"",type:"warning",text:msg})}};return{current_voucher_tag:null,current_product:null,quantity_diff_track:0,get_cart_id:function(){return readCookie(helper.cart_cookie_name)},set_cart_id:function(cart_id){createCookie(helper.cart_cookie_name,cart_id)},clear_cart:function(){eraseCookie(helper.cart_cookie_name),eraseCookie(helper.step_cookie_name)},set_current_step:function(step){step>readCookie(helper.step_cookie_name)&&createCookie(helper.step_cookie_name,step)},get_product_pricing_for_location:function(pricing_array,location){if(!location||!location.data)return pricing_array[0];for(var i=0;i<pricing_array.length;i++){var pricing=pricing_array[i];if(pricing.currency.iso_code==location.data.currency_iso_code)return pricing}return null},recreate_cart:function(callback){var that=this;retreve_cart(geny_cart.get_cart_id(),function(status,response,billing_api_response,cart_data){var cart=cart_data.data,product=cart.products[0],discount=cart.discounts[0];create_cart(parseInt(cart.id_address_delivery,10),{product_id:product.id,product_quantity:product.quantity},function(status,arg2,arg3,data){"success"==status&&(geny_cart.set_cart_id(data.data.id),discount?that.update_voucher(discount.code,callback):callback&&callback())})})},change_address:function(address_id,success_callback,error_callback){console.log("changing address to: "+address_id);var cart_id=this.get_cart_id();update_cart(cart_id,address_id,null,function(text_status,response,billing_api_response,data){"success"==text_status?success_callback&&success_callback():error_callback&&error_callback("problem updating cart with given address")})},update_voucher:function(value,success_callback,error_callback){var that=this;that.remove_voucher(function(){add_voucher_tag(that.get_cart_id(),value,function(text_status,response,billing_api_response,data){"success"==text_status?(that.current_voucher_tag=value,success_callback&&success_callback()):error_callback&&error_callback()})})},remove_voucher:function(callback){return null==this.current_voucher_tag?callback&&callback():void remove_voucher_tag(this.get_cart_id(),this.current_voucher_tag,callback)},add_product:function(product_id,qty,callback){null==qty&&(qty=1);var cart_id=this.get_cart_id();cart_id?helper.update_cart(cart_id,product_id,qty,callback,function(){helper.create_cart(product_id,qty,callback)}):helper.create_cart(product_id,qty,callback)},is_product_indie:function(product){return product&&9==product.id},is_product_business:function(product){return product&&8==product.id},get_product_by_name:function(name){var found_product=null;return $.each(wp_vars.api_products,function(id,product){product.name.toLowerCase()==String(name).toLowerCase()&&(found_product=product)}),found_product},get_thank_you_link_by_product:function(product){return this.is_product_indie(product)?wp_vars.links["thank-you-premium-indie"]:wp_vars.links["thank-you-premium-business"]},get_thank_you_link:function(callback){null==this.current_product?retreve_cart(geny_cart.get_cart_id(),function(text_status,response,billing_api_response,data){geny_cart.current_product=data.data.products[0],callback(geny_cart.get_thank_you_link_by_product(geny_cart.current_product))}):callback(this.get_thank_you_link_by_product(geny_cart.current_product))},render:function(success_callback,error_callback,no_quantity_overwrite){console.log("rendering cart"),retreve_cart(this.get_cart_id(),function(text_status,response,billing_api_response,data){if("success"!=text_status)return void(error_callback&&error_callback());geny_cart.current_product=data.data.products[0],geny_cart.current_voucher_tag=0!=data.data.discounts.length?data.data.discounts[0].code:null;var product=data.data.products[0],currency_symbol=data.data.currency_symbol,product_row=$(".cart-table tbody tr"),discount=0;data.data.discounts.forEach(function(current){discount+=current.value_tax_exc});var product_data={name:wp_vars.cart_products[product.id].title,price:currency_symbol+geny_html.formatPrice(product.price),total_price:currency_symbol+geny_html.formatPrice(product.total_price)};no_quantity_overwrite||(product_data.quantity=product.quantity),geny_html.populateElementWithVariables(product_row.selector,product_data),product_row.attr("data-id",product.id);var afterDiscount=product.total_price-discount,vat=0;product.taxes&&product.taxes.forEach(function(taxe){var currentVat=taxe.rate/100*afterDiscount;vat+=currentVat}),geny_html.populateElementWithVariables("#cart-summary",{total_no_discount:currency_symbol+geny_html.formatPrice(product.total_price),vat:currency_symbol+geny_html.formatPrice(vat),discount:currency_symbol+geny_html.formatPrice(discount),total:currency_symbol+geny_html.formatPrice(product.total_price-discount+vat),code:geny_cart.current_voucher_tag}),geny_cart.current_voucher_tag&&$("#checkout-voucher-code").closest("div").addClass("valid"),success_callback&&success_callback(data)})}}}();if(function(){var $address_popup=$("#popup-profile-address");if(0!=$address_popup.length){geny_cart.get_cart_id()&&retreve_cart(geny_cart.get_cart_id(),function(text_status,response,billing_api_response,data){"success"==text_status&&(geny_cart.current_product=data.data.products[0])});var $popup=$address_popup;$popup.find("form").validate({rules:{firstname:"required",lastname:"required",address:"required",city:"required",alias:"required",country:"required",company:"companyNameValidation",phone:{required:{depends:function(elt){var is_company=$("input[name=company]")[0].value,business_license=geny_cart.is_product_business(geny_cart.current_product);return is_company||business_license}}}},errorPlacement:function(error,element){error.appendTo(element.nextAll("span.error"))},success:function(element){$(element).parent().parent().addClass("valid")},highlight:function(element){$(element).parent().addClass("invalid").removeClass("valid")},unhighlight:function(element){$(element).parent().removeClass("invalid")},submitHandler:function(form){return popup.handleSave(),!1}}),$popup.find("select").customSelect({customClass:"custom-select"}),$popup.hide();var $linkToClose=$popup.find(".close"),$content=$popup.find(".popup-content"),$countrySelect=$popup.find("#address-form-country"),$stateSelect=$popup.find("#address-form-state"),popup={isOpen:!1,isEdit:!1,address:null,openingElement:null,saveCallback:null,disableRemove:function(){$popup.find(".delete-address").hide()},clearForm:function(){$popup.find('input:not([type="submit"]), select').val(""),$popup.show(),$popup.find("select").trigger("render"),$popup.hide(),$popup.find("*").removeClass("invalid").removeClass("valid")},populateForm:function(){this.clearForm();for(var name in this.address)$popup.find('[name="'+name+'"]').val(this.address[name]);$popup.find('[name="address"]').val(this.address.address1),$popup.find('[name="country"]').val(this.address.iso_code),$popup.find('[name="state"]').val(this.address.id_state),$popup.find('[name="zipcode"]').val(this.address.postcode),$popup.show(),$popup.find("select").trigger("render").trigger("change"),$popup.hide()},open:function(opening_element,address,save_callback){this.isOpen||(this.isOpen=!0,this.saveCallback=save_callback,this.openingElement=opening_element,this.address=address,this.isEdit=!!this.address,$("body").addClass("overflow-hidden"),this.isEdit?($popup.addClass("edit"),this.populateForm()):(popup.clearForm(),$popup.removeClass("edit")),$popup.show(1,function(){$popup.addClass("is-active"),$content.scrollTop(0)}))},handleSave:function(){var that=this,inner_callback=function(text_status,response,billing_api_response,data){data&&data.success?that.saveCallback&&that.saveCallback(that.isEdit,data.data,that.openingElement):swal({title:"",type:"error",text:wp_vars.translations.general_problem})},data=this.getFormData(),state=data.state?parseInt(data.state,10):0;this.address?update_user_address(this.address.id,data.firstname,data.lastname,data.address,data.alias,data.city,data.country,state,"",data.phone,data.phone,data.address2,data.zipcode,"",data.company,data.vat_number,inner_callback):create_user_address(data.firstname,data.lastname,data.address,data.alias,data.city,data.country,state,"",data.phone,data.phone,data.address2,data.zipcode,"",data.company,data.vat_number,inner_callback)},getFormData:function(){for(var split=$popup.find('input:not([type="submit"]), select').serialize().split("&"),data={},i=0;i<split.length;i++){var row=split[i].split("=");data[row[0]]=decodeURIComponent((row[1]+"").replace(/\+/g,"%20"))}return data},close:function(){$("body").removeClass("overflow-hidden"),$popup.removeClass("is-active").removeClass("edit-mode"),setTimeout(function(){$popup.hide(),popup.isOpen=!1},500)},deleteAddress:function(callback){var that=this;return!!window.confirm(wp_vars.translations.address_delete_confirm)&&void remove_user_address(this.address.id,function(text_status,response,billing_api_response,data){data&&data.success?callback&&callback(that.openingElement):swal({title:"",type:"error",text:wp_vars.translations.general_problem})})}};window.geny_popup_address=popup,$linkToClose.on("click",function(e){e.preventDefault(),popup.close()}),$popup.on("click",function(e){e.target===e.currentTarget&&popup.close()}),$countrySelect.on("change",function(e){var iso_code=$(e.currentTarget).val(),old_val=$stateSelect.val();$stateSelect.val(""),$stateSelect.find("option:not(:first-child)").hide();var options_to_show=$stateSelect.find("option.state-option-"+iso_code);if(options_to_show.length){$stateSelect.closest(".invisible-input").show(),$stateSelect.closest(".invisible-input").parent("div").addClass("two-columns"),options_to_show.show();var old_option=$stateSelect.find('option[value="'+old_val+'"]');old_option.hasClass("state-option-"+iso_code)&&$stateSelect.val(old_val)}else $stateSelect.closest(".invisible-input").hide(),$stateSelect.closest(".invisible-input").parent("div").removeClass("two-columns");$stateSelect.trigger("render")})}}(),$("body").on("click",".tabs a",function(e){e.preventDefault();var id=$(e.currentTarget).attr("href").replace("#",""),content=$("#tab-"+id);$(e.currentTarget).closest(".tabs").find(".tab").removeClass("is-active"),$(e.currentTarget).closest("li").addClass("is-active"),content.parent().find(".tab-content").removeClass("is-active"),content.addClass("is-active"),content.attr("id",""),window.location.hash=id,content.attr("id","tab-"+id)}),$(window).on("hashchange",function(){var clickable_tab=$('.tab a[href="'+window.location.hash+'"]');0==clickable_tab.length&&(clickable_tab=$(".tab a").eq(0)),clickable_tab.click()}).trigger("hashchange"),0!=$(".page-profile").length){$(".logged-navigation a").on("click",function(e){closeLoggedInMenu()});var selected=$(".tab-content select");selected.each(function(){var hidden=$(this).closest(".tab-content");hidden[0].style.display="block",$(this).customSelect({customClass:"custom-select"}),hidden[0].style.display=""})}var swiper=new Swiper(".hero",{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",spaceBetween:0,loop:!0});$(function(){function after_sign_out(){eraseCookie("geny_user"),Track.logout(),window.location.href="/"}get_current_user_info(after_get_current_user_info_in_header),$("#sign_out_button").click(function(event){event.stopPropagation(),event.preventDefault(),sign_out(after_sign_out)})});var galleryTop=new Swiper(".gallery-top",{spaceBetween:10,initialSlide:1}),galleryThumbs=new Swiper(".gallery-thumbs",{spaceBetween:10,centeredSlides:!0,slidesPerView:"auto",initialSlide:1,slideToClickedSlide:!0});if(galleryTop.params.control=galleryThumbs,galleryThumbs.params.control=galleryTop,$(function(){swiper=new Swiper(".gallery-quotes",{onSlideChangeStart:function(){$(".swiper-pagination-switch").removeClass("active"),$(".swiper-pagination-switch").eq(swiper.activeIndex).addClass("active")}}),$(".swiper-pagination-switch").click(function(){swiper.slideTo($(this).index()),$(".swiper-pagination-switch").removeClass("active"),$(this).addClass("active")})}),0!=$(".page-faq").length&&($(".faq-title, .floating-categories").on("click","a",function(e){e.preventDefault(),goToAnchor($(e.currentTarget).attr("href"))}),window.location.hash&&setTimeout(function(){goToAnchor(window.location.hash)},250),$(".masonry-grid").masonry(),$(window).on("scroll",function(e){var target=$(".floating-categories"),source_top=$(".faq-answers"),source_bottom=$(".more-questions"),scrollTop=document.documentElement.scrollTop||document.body.scrollTop,target_top=scrollTop-source_top.position().top+40;target_top=target_top<0?0:target_top,source_bottom.position().top-target.outerHeight()-140>scrollTop&&target.css("top",target_top)})),$(function(){$(".feature-tip").hover(function(){$(this).find(".tip").stop().fadeIn("fast")},function(){$(this).find(".tip").stop().fadeOut("fast")}).find("a").on("click",function(e){e.preventDefault()})}),$(".video-link").on("click",function(e){e.preventDefault();var video_overlay=$("#fullscreen-video"),iframe=video_overlay.find("iframe"),video_url=$(e.currentTarget).attr("href");iframe.attr("src",video_url),$("body").addClass("overflow-hidden"),$("#wpadminbar").hide(),video_overlay.show()}),function(){if($("#page-content > .page-features").length){var lis=$(".slides-section nav li"),nav_left_right=$(".nav-direction-container a"),features_swiper=new Swiper(".swiper-container",{loop:!0,nextButton:".nav-right",prevButton:".nav-left",onSlideChangeStart:function(e){if(nav_left_right.addClass("faded"),features_swiper){var active_slide=$(".swiper-slide").eq(e.activeIndex);lis.removeClass("active"),lis.parent().find('[data-id="'+active_slide.data("id")+'"]').addClass("active")}},onSlideChangeEnd:function(){nav_left_right.removeClass("faded")}});$(".slides-section nav a").click(function(e){e.preventDefault();var li=$(this).closest("li"),next_slide=$('.swiper-slide[data-id="'+li.data("id")+'"]');features_swiper.slideTo(next_slide.index()),lis.removeClass("active"),li.addClass("active")}),$(".features footer a").on("click",function(e){e.preventDefault(),get_current_user_info(function(text_status,response,license_api_response){response.responseJSON.customer_uuid?window.location=e.currentTarget.href:(createCookie("after-sign-in-redirect",e.currentTarget.href),window.location=wp_vars.links["sign-in"])})})}}(),0!=$(".page-profile").length){if($.url("?order_ref")){var order_ref=$.url("?order_ref");renew_user_order(order_ref,function(text_status,response,billing_api_response,data){console.log(arguments),"success"==text_status?(geny_cart.set_cart_id(data.data.id),geny_cart.set_current_step(4),window.location=wp_vars.links["checkout-payment"]):window.location=wp_vars.links["account-licenses-renewal-key-invalid"]})}var popup=window.geny_popup_address;$("body").on("click",".address-popup-open",function(e){e.preventDefault(),popup.open(e.currentTarget,$(e.currentTarget).data("address"),function(isEdit,response,opening_element){isEdit?append_address_html(response,$(opening_element).closest(".grid-item")):append_address_html(response),popup.close()})}),$("body").on("click","#popup-profile-address .delete-address",function(e){e.preventDefault(),popup.deleteAddress(function(opening_element){$(opening_element).closest(".grid-item").remove(),popup.close()})}),$("body").on("click",".reference-container .details",function(e){e.preventDefault();var details_container=$(e.currentTarget).parent().find(".details-container");$(e.currentTarget).toggleClass("open"),$(e.currentTarget).hasClass("open")?details_container.slideDown():details_container.slideUp()}),$(function(){function after_retrieve_all_user_addresses(status,response,error_message,data){"success"==status?list_all_addresses(data):$("#profile_main_error_span").css("display","inline-block").text(error_message)}function list_all_addresses(data){$.each(data.data,function(index,address){append_address_html(address)})}function after_get_current_user_info(status,response,error_message,data){"success"==status?populate_account_tab(data):$("#profile_main_error_span").css("display","inline-block").text(error_message)}function populate_account_tab(data){var tab=$("#tab-account-info");tab.find("[name=old_username]").val(data.user.username),tab.find("[name=username]").val(data.user.username),tab.find("[name=email]").val(data.user.email),tab.find("[name=subscribe]").prop("checked",data.newsletter),$(".spinner").hide(),data.cloud_enable?$(".cloud-account").show():$(".genymotion-account").show(),data.user.email=data.user.email.trim().toLowerCase(),$("#gravatar_img").attr("src",getGravatarUrl(data.user.email))}function after_list_licenses(status,response,error_message,data){"success"==status?get_current_user_info(function(inner1,inner2,inner3,user_data){populate_orders_tab(data,user_data)}):$("#profile_main_error_span").css("display","inline-block").text(error_message)}function populate_orders_tab(data,user_data){var no_licenses_html=$("#no-licenses-template").html(),other_licenses_but_no_active=$("#no-licenses-template-no-active").html(),current_license_container=$("#current_license"),current_license_data=data.registered;if(null==current_license_data){if($.isEmptyObject(data.bought))return current_license_container.html(no_licenses_html),void current_license_container.show();current_license_container.html(other_licenses_but_no_active)}else current_license_data.__can_renew_normal=current_license_data.renewal_ref&&current_license_data.buyer__user__email==user_data.user.email,current_license_data.__can_renew_procedure=null!=current_license_data.buyer__user__email&&current_license_data.buyer__user__email!=user_data.user.email,current_license_data.__can_renew_info=null==current_license_data.buyer__user__email,current_license_data.expiration_date_formatted=geny_html.formatTimeLeft(current_license_data.expiration_date),geny_html.populateElementWithVariables(current_license_container,current_license_data);if(current_license_container.show(),$("#other_licenses-container").show(),$.isEmptyObject(data.bought))$("#other_licenses").html(no_licenses_html);else{var data_bought=[],other_orders_container=$("#other_licenses"),reference_template=other_orders_container.find(".reference-container.template");$.each(data.bought,function(order_name,order_details){data_bought.push(order_details)}),data_bought.sort(function(a,b){return new Date(b.last_expiration_date)-new Date(a.last_expiration_date)}),$.each(data_bought,function(order_name,order_details){order_details.expiration_date_formatted=geny_html.formatTimeLeft(order_details.last_expiration_date);var ref_container=reference_template.clone();ref_container.removeClass("template"),geny_html.populateElementWithVariables(ref_container,order_details);for(var key in order_details.licenses){var license_data=order_details.licenses[key],license_template=reference_template.find(".order-item.template").clone();license_template.removeClass("template"),geny_html.populateElementWithVariables(license_template,license_data),ref_container.find(".details-container").append(license_template)}other_orders_container.append(ref_container)}),reference_template.remove()}}function populate_invoices_tab(status,response,error_message,data){if("success"==status){if(0==Object.keys(data.data).length)return void $("#invoices").html('<div class="reference-container"><section class="order-item"><h4><strong>'+wp_vars.translations.profile_no_invoices+"</strong></h4></section></div>");data.data.sort(function(a,b){return new Date(b.date_add)-new Date(a.date_add)}),$.each(data.data,function(index,order_details){$("#invoices").append(generate_invoice_html(order_details))})}else $("#profile_main_error_span").css("display","inline-block").text(error_message)}function generate_invoice_html(order_details){var has_invoice=0!=parseInt(order_details.invoice_number,10),status=has_invoice?"OK":wp_vars.translations.profile_invoice_status_waiting,errorStatus="Payment error";order_details.status&&"Payment error"==order_details.status.name&&(status=errorStatus);var dateTimePieces=order_details.date_add.split(" "),datePieces=dateTimePieces[0].split("-"),timePieces=dateTimePieces[1].split(":"),date=new Date(datePieces[0],parseInt(datePieces[1],10)-1,datePieces[2],timePieces[0],timePieces[1],timePieces[2]);date=date.getDate()+" "+wp_vars.translations.months_arr[date.getMonth()]+" "+date.getFullYear();var generated_html='<section class="invoice-item for-s-mb-s">';return generated_html+='<div class="grid">',generated_html+='<div class="grid-item for-s-12 for-m-7">',generated_html+="<p>"+wp_vars.translations.profile_invoice_order_reference+"<br />",generated_html+="<strong>"+order_details.reference+"</strong></p>",generated_html+="<p>"+wp_vars.translations.profile_invoice_order_status+"<br />",generated_html+="<strong>"+status+"</strong></p></div>",generated_html+='<div class="grid-item for-s-12 for-m-5">',generated_html+='<h2 class="price">'+order_details.currency_symbol+order_details.total_paid+"</h2>",generated_html+="<p><strong>"+date+"</strong></p>",has_invoice&&(generated_html+='<a href="'+geny_billing_settings_object.billing_api_url+"/user/order/"+order_details.id+'/invoice/?pdf=true" class="button" >'+wp_vars.translations.profile_invoice_download+"</a>"),generated_html+="</div></div></section>"}function submit_update_password_form(form_element){var form=$(form_element),old_password=form.find("[name=old_password]"),new_password=form.find("[name=new_password]"),new_password_confirmation=form.find("[name=new_password_confirmation]");change_password(old_password.val(),new_password.val(),after_update_password),old_password.val(""),new_password.val(""),new_password_confirmation.val(""),form.find(".invalid, .valid").removeClass("valid").removeClass("invalid")}function after_update_password(status,response,error_message){
"success"==status?swal({text:wp_vars.translations.profile_password_updated,type:"success",title:""}):swal({text:error_message,type:"error",title:""})}function submit_update_user_form(form_element){var form=$(form_element),old_username=form.find("[name=old_username]").val(),username=form.find("[name=username]").val(),email=form.find("[name=email]").val(),subscribe=form.find("[name=subscribe]").is(":checked");old_username===username&&(username=""),edit_user(username,email,subscribe,after_update_user)}function after_update_user(status,response,error_message){"success"==status?(APICache.clear("get_current_user_info"),swal({text:wp_vars.translations.profile_updated,type:"success",title:""}),$("#update-user-form").find("[name=old_username]").val($("#update-user-form").find("[name=username]").val())):$("#info_update_response_container").text(error_message)}function after_delete_account(status,response,error_message){"success"==status?(window.APICache.clear("get_current_user_info"),eraseCookie("geny_user"),Track.deleted_account(),swal({title:wp_vars.translations.profile_account_deleted_title,text:wp_vars.translations.profile_account_deleted_msg,type:"success"},function(){window.location.href="/"})):$("#delete_account_response_container").text(error_message)}$("#profile_main_error_span").hide(),get_current_user_info(after_get_current_user_info),list_licenses(after_list_licenses),retrieve_all_user_orders(populate_invoices_tab),retrieve_all_user_addresses(after_retrieve_all_user_addresses),$("#update-password-form").validate({rules:{old_password:"required",new_password:{required:!0,minlength:8},new_password_confirmation:{required:!0,equalTo:"#new_password"}},errorPlacement:function(error,element){error.appendTo(element.nextAll("span.error"))},success:function(element){$(element).parent().parent().addClass("valid")},highlight:function(element){$(element).parent().addClass("invalid").removeClass("valid")},unhighlight:function(element){$(element).parent().removeClass("invalid")},submitHandler:function(form){return submit_update_password_form(form),!1}}),$("#update-user-form").validate({rules:{username:"required",email:{required:!0,email:!0}},errorPlacement:function(error,element){error.appendTo(element.nextAll("span.error"))},success:function(element){$(element).parent().parent().addClass("valid")},highlight:function(element){$(element).parent().addClass("invalid").removeClass("valid")},unhighlight:function(element){$(element).parent().removeClass("invalid")},submitHandler:function(form){return $("#info_update_response_container").html(""),submit_update_user_form(form),!1}}),$("#delete_account").click(function(e){e.preventDefault(),swal({title:"",text:wp_vars.translations.profile_delete_account_question,type:"warning",showCancelButton:!0,confirmButtonText:wp_vars.translations.profile_delete_account_confirm,closeOnConfirm:!1},function(){delete_account(after_delete_account)})})}),$("#tab-account-orders").on("click",".renewal-button.renewal-normal",function(e){e.preventDefault();var this_button=$(this),order_ref=this_button.data("id");this_button.hasClass("disabled")||(this_button.addClass("disabled"),renew_user_order(order_ref,function(text_status,response,billing_api_response,data){console.log(arguments),"success"==text_status?(geny_cart.set_cart_id(data.data.id),geny_cart.set_current_step(4),window.location=wp_vars.links["checkout-payment"]):(this_button.removeClass("disabled"),swal({title:"",text:wp_vars.translations.general_problem,type:"error"}))}))}),$("#tab-account-orders").on("click",".renewal-button.renewal-info",function(e){e.preventDefault(),swal({title:"",text:wp_vars.translations.profile_renewal_info,html:!0,type:"info"})}),$("#tab-account-orders").on("click",".renewal-button.renewal-procedure",function(e){e.preventDefault(),current_license_extend_request(function(text_status,response,api_response,data){"success"==text_status?swal({title:"",text:wp_vars.translations.profile_renewal_procedure_success,html:!0,type:"success"}):swal({title:"",text:wp_vars.translations.general_problem,type:"error"})})})}if($(function(){0!=$(".page-download").length&&(!function(){var msg_title=wp_vars.translations.download_limited_title,msg_content=wp_vars.translations.download_limited_content,msg_link=wp_vars.translations.download_limited_link;$(".download-btn").on("click",function(e){e.preventDefault(),$(e.target).hasClass("disabled")||(window.location="/download-handler/?opt="+$(e.currentTarget).data("opt"),$(this).blur())}),get_current_user_info(function(status,response,error_message,data){1!=data.validated&&(msg_content+=' <a href="'+wp_vars.links["account-not-activated"]+"?email="+encodeURIComponent(data.user.email)+'">'+msg_link+"</a>",$(".download-btn").off("click").on("click",function(e){e.preventDefault(),swal({title:msg_title,text:msg_content,type:"info",html:!0})}),swal({title:msg_title,text:msg_content,type:"info",html:!0}))})}(),$(function(){navigator.platform.indexOf("Win")!=-1?($("#osx_main_download").hide(),$("#linux_main_download").hide(),$("#download-box-windows").hide(),$("#hr-1").hide()):navigator.platform.indexOf("Mac")!=-1?($("#win_main_download").hide(),$("#linux_main_download").hide(),$("#download-box-osx").hide(),$("#hr-1").hide()):navigator.platform.indexOf("Linux")!=-1&&($("#osx_main_download").hide(),$("#win_main_download").hide(),$("#download-box-linux").hide(),$("#hr-2").hide())}))}),$(function(){function showChecksum(event){var platform=event.target.innerHTML,checksum=event.target.getAttribute("data-checksum");swal({title:platform,text:"<p><strong>SHA-1</strong></p><pre>"+checksum+"</pre>",html:!0})}$(function(){$("a.checksum").on("click",showChecksum)})}),0!=$(".page-sign-up").length&&$(function(){function submit_sign_up_form(form_element){var form=$(form_element),username=form.find("[name=username]").val();email=form.find("[name=email]").val();var password=form.find("[name=password]").val(),company_size=form.find("[name=company-size]").val(),company_name=form.find("[name=company-name]:visible").val(),usage_type=form.find("[name=usage-type]").val(),country=form.find("#user-country").val(),allow_emails=form.find("[name=allow-emails]").is(":checked")?"true":"false",enterprise_type=(form.find("[name=accept-terms]").val(),form.find("[name=company-type]").val());sign_up(email,username,password,company_name||"",company_size?company_size:"","",allow_emails,"","",usage_type?usage_type:"",country,enterprise_type,after_sign_up)}function after_sign_up(status,response,error_message){"success"==status?get_current_user_info(function(status,response,error_message,data){Track.user_creation(data,function(){data.customer_uuid&&createCookie("geny_user",!0);var url=readCookie("after-sign-in-redirect");return url?(eraseCookie("after-sign-in-redirect"),void(window.location=decodeURIComponent(url))):void(window.location.href=wp_vars.links["account-created"]+"?email="+encodeURIComponent(email))})}):$("#sign_up_main_error_span").css("display","inline-block").text(error_message)}$("#company-type").on("change",function(e){var select=$(e.currentTarget),val=select.val(),target_container=$("#company-name").closest(".invisible-input");null!=val&&"not-available"!=val&&"personal"!=val?target_container.show():target_container.hide()}).trigger("change"),$("#sign-up-form").validate({rules:{username:"required",email:{required:!0,email:!0},password:{required:!0,minlength:8},"company-type":"required","company-name":{maxlength:1024},"usage-type":"required","accept-terms":"required"},messages:{"accept-terms":wp_vars.translations.signup_validation_terms},errorPlacement:function(error,element){error.appendTo(element.nextAll("span.error"))},success:function(element){$(element).parent().parent().addClass("valid")},highlight:function(element){$(element).parent().addClass("invalid").removeClass("valid")},unhighlight:function(element){$(element).parent().removeClass("invalid")},submitHandler:function(form){return $("#sign_up_main_error_span").hide(),submit_sign_up_form(form),!1}});var email;API_billing.get_location(function(status,user_location){if("success"==status){user_location=user_location.responseJSON.data.location,user_location=user_location.toUpperCase();var country=$('#user-country option[value="'+user_location+'"]');country.length&&country.attr("selected",!0)}})}),window.location.href.indexOf("/reset-password-confirm/")>-1&&$(function(){function submit_reset_password_confirm_form(form_element){var form=$(form_element),new_password=form.find("[name=new_password]").val(),token=$.url("?token");reset_password_confirmation(token,new_password,after_reset_password_confirm)}function after_reset_password_confirm(status,response,error_message){"success"==status?(createCookie("after-sign-in-redirect",wp_vars.links.account+"#account-info"),window.location.href=wp_vars.links["reset-password-complete"]):window.location.href=wp_vars.links["reset-password-failure"]}$("#reset-password-confirm-form").validate({rules:{new_password:{required:!0,minlength:8}},errorPlacement:function(error,element){error.appendTo(element.nextAll("span.error"))},success:function(element){$(element).parent().parent().addClass("valid")},highlight:function(element){$(element).parent().addClass("invalid").removeClass("valid")},unhighlight:function(element){$(element).parent().removeClass("invalid")},submitHandler:function(form){return submit_reset_password_confirm_form(form),!1}})}),0!=$(".page-reset-password").length&&$(function(){function submit_reset_password_form(form_element){var form=$(form_element),username_or_email=form.find("[name=username_or_email]").val();reset_password(username_or_email,after_reset_password)}function after_reset_password(status,response,error_message){"success"==status?window.location.href=wp_vars.links["reset-password-procedure"]:$("#reset_password_main_error_span").css("display","inline-block").text(error_message)}$("#reset-password-form").validate({rules:{username_or_email:"required"},errorPlacement:function(error,element){error.appendTo(element.nextAll("span.error"))},success:function(element){$(element).parent().parent().addClass("valid")},highlight:function(element){$(element).parent().addClass("invalid").removeClass("valid")},unhighlight:function(element){$(element).parent().removeClass("invalid")},submitHandler:function(form){return $("#reset_password_main_error_span").hide(),submit_reset_password_form(form),!1}})}),function(){0!=$(".page-account-not-activated").length&&$("#resend-activation-email").on("submit",function(e){e.preventDefault();var form=$(this),email_element=form.find("#resend-email"),email=email_element.val(),submit=form.find('[type="submit"]');submit.attr("disabled","disabled"),email_element.parent().removeClass("invalid"),resend_activation_email(email,function(text_status,response,license_api_response){submit.removeAttr("disabled"),"success"==text_status?swal({title:"",text:wp_vars.translations.resend_email_success,type:"success"}):(email_element.parent().addClass("invalid"),email_element.parent().find(".error").text(license_api_response))})})}(),0!=$(".page-sign-in").length){var url_param_back_url=$("#url-parameter-back-url").val();url_param_back_url&&createCookie("after-sign-in-redirect",url_param_back_url),$(function(){function submit_sign_in_form(form_element){var form=$(form_element),password=form.find("[name=password]").val(),username=form.find("[name=username]").val(),remember=form.find("#remember").is(":checked");sign_in(username,password,remember,after_sign_in)}function after_sign_in(status,response,error_message){"success"==status?get_current_user_info(function(status,response,license_api_response,data){return response.responseJSON.validated?void after_sign_in_success(data):void(window.location=wp_vars.links["account-not-activated"]+"?email="+encodeURIComponent(response.responseJSON.user.email))}):$("#sign_in_main_error_span").css("display","inline-block").text(error_message)}function after_sign_in_success(data){Track.sign_in(data,function(){data.customer_uuid&&createCookie("geny_user",!0);var rawUrl=readCookie("after-sign-in-redirect"),url=rawUrl?decodeURIComponent(rawUrl):"";return url&&url!=pages.downloadTrial?(eraseCookie("after-sign-in-redirect"),void(window.location=url)):void licenseApi.getAll().then(function(licenses){return url==pages.downloadTrial?(eraseCookie("after-sign-in-redirect"),licenses.some(License.isTrial)&&!licenses.every(License.isPaying)?void(window.location=window.wp_env.BASE_URL+pages.get):licenses.some(License.isPaying)?void(window.location=window.wp_env.BASE_URL+pages.download):void(window.location=window.wp_env.BASE_URL+pages.downloadTrial)):void(window.location.href=wp_vars.links.account+"#account-orders")}).catch(function(){return url?(eraseCookie("after-sign-in-redirect"),void(window.location=url)):void(window.location.href=wp_vars.links.account+"#account-orders")})})}$("#sign-in-form").validate({rules:{username:"required",password:"required","accept-terms":"required"},errorPlacement:function(error,element){error.appendTo(element.nextAll("span.error"))},success:function(element){$(element).parent().parent().addClass("valid")},highlight:function(element){$(element).parent().addClass("invalid").removeClass("valid")},unhighlight:function(element){$(element).parent().removeClass("invalid")},submitHandler:function(form){return $("#sign_in_main_error_span").hide(),submit_sign_in_form(form),!1}})})}$(function(){var contact_form_submit=$('#contact-form input[type="submit"]');0!=$(".page-contact").length&&(Dropzone.autoDiscover=!1,$("#contact-dropzone").dropzone({addRemoveLinks:!0,processing:function(){contact_form_submit.attr("disabled","")},complete:function(file){window.contact_dropzone=this,contact_form_submit.removeAttr("disabled"),$(file.previewElement).find(".dz-progress").hide()},sending:function(file,xhr,formData){xhr.withCredentials=!0},headers:{Accept:"application/json, text/plain, */*"},method:"POST",url:geny_settings_object.license_api_url+"/support/file/upload/",dictDefaultMessage:wp_vars.translations.contact_drop_files.replace("<link>",'<a href="javascript:void(null);">').replace("</link>","</a>"),removedfile:function(file){var _ref;return remove_attached_file(),null!=(_ref=file.previewElement)?_ref.parentNode.removeChild(file.previewElement):void 0},maxFiles:1,maxfilesexceeded:function(file){this.removeAllFiles(),this.addFile(file)}}))}),function(){function getConfigData(callback){null==config_data?$.getJSON(wp_vars.THEME_URL+"/data/contact-fields-config.json",{},function(data){config_data=data,callback(config_data)}):callback(config_data)}function onRequestTypeChange(e){var select=$("#request-type"),email=$("#email"),is_user_logged_in=email.data("user-logged-in"),val=select.val()?select.val():"",serialized_form=readCookie("contact-form-fields");if(serialized_form){eraseCookie("contact-form-fields");for(var fields=serialized_form.split("&"),i=0;i<fields.length;i++){var split=fields[i].split("="),name=split[0],value=split[1];"email"!=name&&contact_form.find('[name="'+name+'"]').val(value)}}if(!is_user_logged_in){var option=select.find('option[value="'+val+'"]');option.data("force-log-in")&&popup.open(select)}getConfigData(function(data){if(contact_form.find(".invisible-input").show(),data[val])for(var i=0;i<data[val].length;i++){var name=data[val][i];$('#contact-form [name="'+name+'"]').closest(".invisible-input").hide()}select.closest("form").find("select:not(#request-type)").each(function(){reinitCustomSelect($(this))})})}var $sign_in_popup=$("#popup-sign-in");if($sign_in_popup.length){var $popup=$sign_in_popup;$popup.find("form").validate({rules:{"popup-sign-in-username":"required","popup-sign-in-password":"required"},errorPlacement:function(error,element){error.appendTo(element.nextAll("span.error"))},success:function(element){$(element).parent().parent().addClass("valid")},highlight:function(element){$(element).parent().addClass("invalid").removeClass("valid")},unhighlight:function(element){$(element).parent().removeClass("invalid")},submitHandler:function(form_element){var form=$(form_element),submit=form.find('input[type="submit"]'),error_container=form.parent().find(".global-error"),password=form.find("[name=popup-sign-in-password]").val(),username=form.find("[name=popup-sign-in-username]").val();return submit.attr("disabled",""),sign_in(username,password,!1,function(status,obj,msg){submit.removeAttr("disabled"),"error"==status?error_container.text(msg).addClass("visible"):Track.sign_in({},function(){get_current_user_info(after_get_current_user_info_in_header),popup.close(!0)})}),!1}}),$popup.hide();var $linkToClose=$popup.find(".close"),$content=$popup.find(".popup-content"),popup={isOpen:!1,openingElement:null,open:function(openingElement){this.isOpen||(this.openingElement=openingElement,this.isOpen=!0,$("body").addClass("overflow-hidden"),$popup.show(1,function(){$popup.addClass("is-active"),$content.scrollTop(0)}))},close:function(doNotResetSelect){doNotResetSelect||(this.openingElement.val(""),reinitCustomSelect(this.openingElement),this.openingElement.trigger("change")),$("body").removeClass("overflow-hidden"),$popup.removeClass("is-active"),setTimeout(function(){$popup.hide(),popup.isOpen=!1},500)}};$linkToClose.on("click",function(e){e.preventDefault(),popup.close()}),$popup.on("click",function(e){e.target===e.currentTarget&&popup.close()})}var contact_form=$("#contact-form");if(contact_form.length){var config_data=null;contact_form.on("change","#request-type",onRequestTypeChange),onRequestTypeChange()}}(),jQuery(function(){function submit_contact_form(event){var form=jQuery(this),type=form.find("[name=report]").val(),email=form.find("[name=email]").val(),subject=form.find("[name=subject]").val(),description=form.find("[name=desc]").val(),product=form.find("[name=product]").val(),data={type:type,email:email,subject:subject,description:description,product:product};contact_support(data,after_contact_submit)}function after_contact_submit(status,response,error_message){"success"==status?window.location.href="contact-sent.html":alert(error_message)}if(0!=$(".page-contact").length){var url_parameter_type=$("#url-parameter-type").val(),request_type_select=$("#request-type");if("#volume-discount"==window.location.hash)request_type_select.val("request-sales-volume-discount");else if(url_parameter_type){var value_to_find="request-"+url_parameter_type,selectable_option=request_type_select.find('option[value="'+value_to_find+'"]');if(0==selectable_option.length){var optgroup=request_type_select.find('optgroup[data-value="'+value_to_find+'"]');selectable_option=optgroup.find("option").first(),value_to_find=selectable_option.attr("value")}0!=selectable_option.length&&get_current_user_info(function(){request_type_select.val(value_to_find).trigger("change")})}$("#contact-form").validate({rules:{requestType:"required",subject:"required",phone:"required","number-of-licenses":"required",product:"required",email:{required:!0,email:!0},contactUsDescription:"required",contactUsExplanation:"required"},errorPlacement:function(error,element){error.appendTo(element.nextAll("span.error"))},success:function(element){$(element).parent().parent().addClass("valid")},highlight:function(element){$(element).parent().addClass("invalid").removeClass("valid")},unhighlight:function(element){$(element).parent().removeClass("invalid")},submitHandler:function(form){$("#contact-global-success, #contact-global-error").css("display",""),form=$(form);var type=form.find("[name=requestType]").val(),email=form.find("[name=email]").val(),subject=form.find('[name="subject"]').val()||"",description=form.find("[name=contactUsDescription]").val()||"",explanation=form.find("[name=contactUsExplanation]").val()||"",product=form.find('[name="product"]').val()||"",submit=form.find('input[type="submit"]'),phone=form.find("[name=phone]").val(),number_of_licenses=form.find("[name=number-of-licenses]").val();description=explanation?"Explanation:\n"+explanation+"\n \nDescription:\n"+description:description;var data={type:type,email:email,subject:subject,description:description,product:product,phone:phone,number_of_licenses:number_of_licenses};return submit.attr("disabled",""),description.split(" ").length<=1?(submit.removeAttr("disabled"),form.find('input[type="text"]:not([name="email"]), select, textarea').val(""),reinitCustomSelect(form.find("select")),form.find("select").trigger("change"),window.contact_dropzone&&window.contact_dropzone.removeAllFiles(),form.find(".valid").removeClass("valid"),void $("#contact-global-success").css("display","inline-block")):(contact_support(data,function(text_status,response,license_api_response,data){$("html, body").animate({scrollTop:0}),submit.removeAttr("disabled"),"success"==text_status?(Track.submit_contact_us(type,email,product),form.find('input[type="text"]:not([name="email"]), select, textarea').val(""),reinitCustomSelect(form.find("select")),form.find("select").trigger("change"),window.contact_dropzone&&window.contact_dropzone.removeAllFiles(),form.find(".valid").removeClass("valid"),$("#contact-global-success").css("display","inline-block")):$("#contact-global-error").css("display","inline-block")}),!1)}})}jQuery("#support-form-js").submit(submit_contact_form),jQuery("#sales-form-js").submit(submit_contact_form),jQuery("#general-form-js").submit(submit_contact_form),jQuery("[name=drop-zone]").on("dragenter",function(e){e.stopPropagation(),e.preventDefault()}).on("dragover",function(e){e.stopPropagation(),e.preventDefault()}),jQuery(document).on("dragenter",function(e){e.stopPropagation(),e.preventDefault()}).on("dragover",function(e){e.stopPropagation(),e.preventDefault()}).on("drop",function(e){e.stopPropagation(),e.preventDefault()})}),function(){0!=$("#pricing-table").length&&API_billing.get_location(function(arg1,arg2,arg3,location_data){for(var id in wp_vars.api_products){var productInfo=wp_vars.api_products[id],pricing=geny_cart.get_product_pricing_for_location(productInfo.pricing,location_data),baseDiv=$('[data-ref="'+productInfo.id+'"]');if(null!=pricing&&0!=baseDiv.length){var priceFloat=parseFloat(pricing.price).toFixed(2),priceInt=parseInt(priceFloat,10);baseDiv.find(".currency").text(pricing.currency.symbol),baseDiv.find(".price").text(priceInt!=priceFloat?priceFloat:priceInt),baseDiv.find(".price").parent().show()}}})}(),$("header.main").hasClass("home")&&$(window).scroll(function(){var y=$(this).scrollTop();y>1?($(".inner-wrapper-bg").fadeIn(),$(".inner-wrapper").addClass("scrolled")):($(".inner-wrapper-bg").fadeOut(),$(".inner-wrapper").removeClass("scrolled"))}),$("body").hasClass("page-template-homepage")&&API_billing.get_location(function(arg1,arg2,arg3,location_data){var productInfo=wp_vars.api_products[9],pricing=geny_cart.get_product_pricing_for_location(productInfo.pricing,location_data),baseDiv=$('[data-ref="priceindie"]');if(null!=pricing&&0!=baseDiv.length){var priceFloat=parseFloat(pricing.price).toFixed(2),priceInt=parseInt(priceFloat,10);baseDiv.find(".currency").text(pricing.currency.symbol),baseDiv.find(".price").text(priceInt!=priceFloat?priceFloat:priceInt),baseDiv.find(".price").parent().show()}});var ww=document.body.clientWidth,prevww=void 0;$(document).ready(function(){$(".nav li a").each(function(){$(this).next().length>0&&$(this).addClass("parent")}),adjustMenu()}),$(window).bind("resize orientationchange",function(){ww=document.body.clientWidth,adjustMenu()});var adjustMenu=function(){if(void 0==prevww);else{if(ww<992&&prevww<992)return;if(ww>=992&&prevww>=992)return}ww<992?($(".nav").removeClass("NormalMenu").find("ul").hide(),$(".menu-item-has-children > a").bind("click",function(e){e.preventDefault();var _sub=$(this).siblings("ul");$(_sub).is(":visible")?($(_sub).hide(),$(_sub).find("ul").hide()):$(_sub).show()})):ww>=992&&($(".menu-item-has-children > a").unbind("click"),$(".nav").show().addClass("NormalMenu").find("ul").removeAttr("style")),prevww=ww};!function(){if($(".page-account-activation").length){var error_container=$(".activation-error"),progress_container=$(".activation-progress"),hash=$("#activation-hash").val();return hash?void activate_account(hash,function(status,response,something_else){progress_container.hide(),"error"==status?error_container.show():Track.account_activated(function(){APICache.clear("get_current_user_info"),window.location=wp_vars.links["account-activated"]})}):(progress_container.hide(),void error_container.show())}}(),function(){var validate_params={rules:{"newsletter-email":{email:!0}},errorPlacement:function(error,element){element.nextAll("span.error").text(""),error.appendTo(element.nextAll("span.error"))},success:function(element){$(element).parent().removeClass("invalid").addClass("valid")},highlight:function(element){$(element).parent().addClass("invalid").removeClass("valid")},unhighlight:function(element){$(element).parent().removeClass("invalid")},submitHandler:function(form){event.stopPropagation(),event.preventDefault();var email=$(form).find('[name="newsletter-email"]').val();if(""!=email){$(form).find(".button").attr("disabled","disabled"),$(form).find(".success").text("");var data={email:email,action:"send_newsletter",post_id:$(form).find('[name="post_id"]').val()};$.post(ajaxurl,data,function(resp){if($(form).find(".button").removeAttr("disabled"),"ok"==resp.status){var success_container=$(form).find(".success"),success_msg=$(form).data("success");success_msg?success_container.text(success_msg):success_container.text(resp.msg)}else $(form).find(".error").text(resp.msg),$(form).find('[name="newsletter-email"]').closest(".grid-item").addClass("invalid")},"json")}}};$("#newsletter, form.newsletter").validate(validate_params),$("form.newsletter-banner").validate(validate_params)}(),$("#mobile-toggle").on("click",function(e){e.preventDefault(),$(".nav-holder").toggleClass("active"),$loggedNav.length&&$loggedNav.hasClass("is-open")&&($loggedNav.removeClass("is-open"),$loggedNav.addClass("is-close"),$loggedButton.removeClass("is-open"),$loggedButton.addClass("is-close"))});var $loggedButton=$(".logged-button"),$loggedNav=$(".logged-navigation"),loggedAnimation=!1;if(window.onload=function(){pageLoaded=!0,licensesLoaded&&($(".links-holder").show(),$loggedButton.length&&$loggedNav.length&&handleLoggedButton())},$.fn.equalizeHeight=function(equalizationSelector){$.each(this,function(){var els=$(this).find(equalizationSelector),heights=[];$.each(els,function(){var curEl=$(this);curEl.height(""),heights.push(curEl.height())});var maxHeight=Math.max.apply(null,heights);els.height(maxHeight)})},$(".equal-height").equalizeHeight(".equal-height-target"),$(window).on("resize",function(){$(".equal-height").equalizeHeight(".equal-height-target")}),0!=$(".page-release-notes").length){$(document).ready(function(){$("select").customSelect({customClass:"custom-select"})}),$("body").on("change","#release-note",function(e){var value=$(this).val();setActiveNote(value)});var note=document.location.hash.replace("#",""),target=$("#note-"+note),scrollToTarget=null;0==target.length&&(target=$("#release-"+note),target.length?(scrollToTarget=target,note=target.closest(".note-content").attr("id").replace("note-","")):note=$("#release-note option").eq(0).val()),setActiveNote(note,scrollToTarget),$("#release-note").val(note)}0!=$(".page-sign-up").length&&$(document).ready(function(){$("select").customSelect({customClass:"custom-select"})}),0!=$(".page-contact").length&&$(document).ready(function(){$("select").customSelect({customClass:"custom-select"})}),$("#pricing-table").on("click",".products-table a.button",function(e){function redirect_further(product_id,wp_product_id,href,need_auth_and_no_auth){var wp_tracking_category=wp_vars.wp_products[wp_product_id].tracking_category,wp_product_name=wp_vars.wp_products[wp_product_id].title;current_target.addClass("disabled"),current_target.addClass("wait"),$("html").css("cursor","wait"),Track.product_click(product_id,wp_product_id,wp_tracking_category,wp_product_name,function(){product_id?geny_cart.add_product(product_id,1,function(){href=wp_vars.links["checkout-cart"],need_auth_and_no_auth&&(createCookie("after-sign-in-redirect",href),href=wp_vars.links["sign-in"]),window.location=href}):(need_auth_and_no_auth&&(createCookie("after-sign-in-redirect",href),href=wp_vars.links["sign-in"]),window.location=href)})}e.preventDefault();var current_target=$(e.currentTarget),href=current_target.attr("href"),need_auth=current_target.data("auth"),product_id=current_target.data("id"),wp_product_id=current_target.data("wp-id");current_target.hasClass("disabled")||(need_auth?get_current_user_info(function(text_status,response,license_api_response){response.responseJSON.customer_uuid?redirect_further(product_id,wp_product_id,href):redirect_further(product_id,wp_product_id,href,!0)}):redirect_further(product_id,wp_product_id,href))});var resize_timeout;$(window).resize(function(){resize_timeout&&clearTimeout(resize_timeout),resize_timeout=setTimeout(function(){$("select.hasCustomSelect").each(function(){reinitCustomSelect($(this))})},100)}),function(){if(0!=$(".page-checkout-cart").length){var products_ready,voucher_ready,plus_minus_buttons=$(".button.minus, .button.plus"),next_step_button=$("#cart-summary a.button"),plus_minus_timeout=null,prefilled_voucher=getParameterByName("voucher"),prefilled_product=geny_cart.get_product_by_name(getParameterByName("product"));prefilled_product&&(products_ready=$.Deferred(),geny_cart.clear_cart(),geny_cart.add_product(prefilled_product.id,1,function(){products_ready.resolve()})),prefilled_voucher&&(readCookie("geny_user")?(voucher_ready=$.Deferred(),$.when(products_ready).done(function(){geny_cart.current_voucher_tag=prefilled_voucher,geny_cart.update_voucher(prefilled_voucher,function(){voucher_ready.resolve(),$(".discount-preview").show()},function(){voucher_ready.resolve(),$(".discount-preview").show(),swal({title:"",text:wp_vars.translations.cart_voucher_invalid,type:"error"})})})):swal({title:"",text:wp_vars.translations.cart_voucher_login_required,type:"warning"},function(){createCookie("after-sign-in-redirect",window.location.href),window.location=wp_vars.links["sign-in"]})),$.when(products_ready,voucher_ready).done(function(){geny_cart.render(function(data){geny_cart.is_product_indie(data.data.products[0])||""!=data.data.renewal||plus_minus_buttons.removeClass("disabled"),""!=data.data.renewal&&swal({title:"",text:wp_vars.translations.cart_renewal_qty_change,type:"warning"}),geny_cart.set_current_step(1)},function(){window.location=wp_vars.links["pricing-and-licensing"]})}),plus_minus_buttons.on("click",function(e){e.preventDefault();var current_button=$(e.currentTarget),input=current_button.parent().find('input[type="text"]'),value=parseInt(input.val(),10),product_id=current_button.closest("tr").data("id"),diff=1;current_button.hasClass("disabled")||($(e.currentTarget).hasClass("minus")&&(diff=-1),value+=diff,geny_cart.quantity_diff_track+=diff,value>0&&product_id&&(input.val(value),next_step_button.addClass("disabled"),clearTimeout(plus_minus_timeout),plus_minus_timeout=setTimeout(function(){Track.changed_product_quantity(product_id,geny_cart.quantity_diff_track),geny_cart.quantity_diff_track=0,geny_cart.add_product(product_id,value,function(){geny_cart.render(function(){next_step_button.removeClass("disabled")},function(){next_step_button.removeClass("disabled")},!0)})},600)))}),next_step_button.on("click",function(e){e.preventDefault(),next_step_button.hasClass("disabled")||(geny_cart.set_current_step(3),window.location=e.currentTarget.href)})}}(),function(){function checkoutAddAddressHtml(address_data,replace_with_element){var address_container=address_template.clone();address_container.removeClass("template"),address_data.id=parseInt(address_data.id,10),address_container.find(".address-box").data("address",address_data),address_data.country=wp_vars.countries[address_data.iso_code],geny_html.populateElementWithVariables(address_container,address_data),null!=replace_with_element?replace_with_element.replaceWith(address_container):addresses_container.append(address_container);
}if(0!=$(".page-checkout-billing").length){var addresses_container=$("#addresses-container"),popup=window.geny_popup_address,address_template=addresses_container.find(".template");popup.disableRemove(),retrieve_all_user_addresses(function(text_status,response,billing_api_response,data){var no_addresses=addresses_container.find(".no-addresses");if(0==data.data.length)return void no_addresses.show();for(var i in data.data)checkoutAddAddressHtml(data.data[i]);geny_cart.set_current_step(3)}),addresses_container.on("click",".button.select-address",function(e){e.preventDefault();var button=$(e.currentTarget),buttons=addresses_container.find(".button.select-address"),address_data=button.closest(".address-box").data("address");button.hasClass("disabled")||(buttons.addClass("disabled"),geny_cart.change_address(address_data.id,function(){geny_cart.set_current_step(4),window.location=wp_vars.links["checkout-payment"]},function(msg){window.location=wp_vars.links["pricing-and-licensing"]}))}),$("body").on("click",".address-popup-open",function(e){e.preventDefault();var element=e.currentTarget,address_data_el=$(element).closest(".address-box"),address_data=address_data_el.length?address_data_el.data("address"):null;popup.open(element,address_data,function(isEdit,response,opening_element){isEdit?checkoutAddAddressHtml(response,$(opening_element).closest(".address-box").parent()):checkoutAddAddressHtml(response),popup.close()})})}}(),function(){if(0!=$(".page-checkout-payment").length){$("#checkout-voucher-code").on("change",function(e){var field=$(this),parent=field.parent(),value=field.val();parent.removeClass("valid").removeClass("invalid"),""!=value?geny_cart.update_voucher(value,function(){geny_cart.render(function(){parent.addClass("valid")})},function(){geny_cart.render(function(){parent.addClass("invalid")})}):geny_cart.remove_voucher(function(){geny_cart.render()})}),Stripe.setPublishableKey(wp_vars.stripe_publishable_key),retreve_cart(geny_cart.get_cart_id(),function(text_status,response,billing_api_response,data){if("success"!=text_status)return void(window.location=wp_vars.links["pricing-and-licensing"]);var product=data.data.products[0],chosen_address_id=data.data.id_address_delivery,currency_symbol=3==product.id_currency?"€":"$";geny_html.populateElementWithVariables(".total-box",{total_price_with_tax:currency_symbol+geny_html.formatPrice(product.total_price_with_tax)}),retrieve_user_address(chosen_address_id,function(text_status,response,billing_api_response,data){if("success"!=text_status)return void(window.location=wp_vars.links["checkout-billing"]);var vars=data.data;vars.country=wp_vars.countries[vars.iso_code],geny_html.populateElementWithVariables(".total-box",vars),window.geny_billing_address=vars,geny_cart.set_current_step(4)})}),geny_cart.render(function(data){var edit_cart_button=$("#cart-summary .button");""==data.data.renewal?edit_cart_button.removeClass("disabled"):edit_cart_button.attr("title",wp_vars.translations.cart_renewal_edit)});var submit_paypal=$("#submit-paypal"),submit_credit_card=$("#submit-credit-card"),submits=$(".submit-payment"),payment_method_radios=$('[name="payment-method"]');payment_method_radios.on("change",function(){payment_method_radios.prop("checked",!1),$(this).prop("checked",!0),submits.hide().attr("disabled"),"payment-method-credit-card"==$(this).attr("id")?submit_credit_card.show().removeAttr("disabled"):submit_paypal.show().removeAttr("disabled")}).first().trigger("change"),$("#payment-stripe-form input").on("focus",function(){$("#payment-method-credit-card").click()}),$("#terms-outer-container").validate({rules:{"credit-card-terms":"required"},errorPlacement:function(error,element){error.appendTo(element.nextAll("span.error"))},success:function(element){$(element).parent().parent().addClass("valid")},highlight:function(element){$(element).parent().addClass("invalid").removeClass("valid")},unhighlight:function(element){$(element).parent().removeClass("invalid")}}),submit_paypal.on("click",function(e){if(e.preventDefault(),$("#terms-outer-container").valid()){submits.attr("disabled","disabled"),submits.addClass("wait"),$("html").css("cursor","wait"),Track.cart_payment_submit("PayPal");var cancel_url=window.location.origin+window.location.pathname+"?cancelled";geny_cart.get_thank_you_link(function(success_url){charge_paypal(geny_cart.get_cart_id(),window.location.origin+success_url,cancel_url,function(text_status,response,billing_api_response,data){if(console.log(arguments),"success"==text_status){if(storageAvailable("sessionStorage")){var completed_order={id:geny_cart.get_cart_id(),ref:data.data.order.reference,voucher:geny_cart.current_voucher_tag,payment:"PayPal"};sessionStorage.setItem("completed_order",JSON.stringify(completed_order))}return void(window.location=data.data.paypal_redirect_url)}var errorText=response.responseJSON&&response.responseJSON.error&&response.responseJSON.error.message?response.responseJSON.error.message:response.responseText;500==response.status&&/Order already created for cart with ID/.test(errorText)?(console.log(errorText),geny_cart.recreate_cart(function(){submit_paypal.click()})):(submit_paypal.removeAttr("disabled"),console.log("problem with payment:"),console.log(arguments),swal({title:"",type:"error",text:wp_vars.translations.general_problem})),Track.transaction_stopped("failure",errorText),submits.removeClass("wait"),$("html").css("cursor","auto")})})}});var card_type_stripe_to_number_bind={Visa:2,MasterCard:1,"American Express":0,Discover:3};$("#credit-card-number").on("keyup",function(){var value=$(this).val(),type=Stripe.card.cardType(value),cards=$(".credit-card-radio-container .cc-ico");if(cards.addClass("inactive"),"Unknown"!=type&&void 0!=card_type_stripe_to_number_bind[type]){var card_class="card-"+card_type_stripe_to_number_bind[type];cards.parent().find("."+card_class).removeClass("inactive")}}),submit_credit_card.on("click",function(){Track.cart_payment_submit("credit card")});var stripe_validator=$("#payment-stripe-form").validate({rules:{"credit-card-number":{required:!0,stripeCardNumber:!0},"credit-card-expiry":{required:!0,stripeExpiryDate:!0},"credit-card-cvc":{required:!0,stripeCVC:!0},"credit-card-name":"required","credit-card-terms":"required"},errorPlacement:function(error,element){error.appendTo(element.nextAll("span.error"))},success:function(element){$(element).parent().parent().addClass("valid")},highlight:function(element){$(element).parent().addClass("invalid").removeClass("valid")},unhighlight:function(element){$(element).parent().removeClass("invalid")},submitHandler:function(form){return submits.attr("disabled","disabled"),submits.addClass("wait"),$("html").css("cursor","wait"),Stripe.card.createToken({number:$("#credit-card-number").val(),cvc:$("#credit-card-cvc").val(),exp_month:parseInt($("#credit-card-expiry").val().split("/")[0],10),exp_year:parseInt($("#credit-card-expiry").val().split("/")[1],10),name:$("#credit-card-name").val(),address_line1:window.geny_billing_address.address1||void 0,address_line2:window.geny_billing_address.address2||void 0,address_city:window.geny_billing_address.city||void 0,address_state:window.geny_billing_address.state_iso_code||void 0,address_zip:window.geny_billing_address.postcode||void 0,address_country:window.geny_billing_address.iso_code||void 0},function(code,data){if(submit_credit_card.removeAttr("disabled"),200==code)submits.attr("disabled","disabled"),charge_stripe(geny_cart.get_cart_id(),data.id,function(text_status,response,billing_api_response,data){if(console.log(arguments),"success"==text_status){if(storageAvailable("sessionStorage")){var completed_order={id:geny_cart.get_cart_id(),ref:data.data.order.reference,voucher:geny_cart.current_voucher_tag,payment:data.data.order.payment};sessionStorage.setItem("completed_order",JSON.stringify(completed_order))}return void geny_cart.get_thank_you_link(function(url){window.location=url})}var errorText=response.responseJSON&&response.responseJSON.error&&response.responseJSON.error.message?response.responseJSON.error.message:response.responseText;500==response.status&&/Order already created for cart with ID/.test(errorText)?geny_cart.recreate_cart(function(){submit_credit_card.click()}):(submit_credit_card.removeAttr("disabled"),402==response.status?swal({title:"",text:"The payment was declined. Please try another payment method or contact our support.",type:"error"}):swal({title:"",text:wp_vars.translations.general_problem+" (Order #ID: "+data.data.order.id+")",type:"error"})),Track.transaction_stopped("failure",errorText),submits.removeClass("wait"),$("html").css("cursor","auto")});else{console.log(arguments);var field_name="credit-card-"+("exp_year"==data.error.param||"exp_month"==data.error.param?"expiry":data.error.param),params={};params[field_name]=data.error.message,stripe_validator.showErrors(params),submits.removeClass("wait"),$("html").css("cursor","auto")}}),!1}});submit_credit_card.on("click",function(e){e.preventDefault(),$("#terms-outer-container").valid()&&$("#payment-stripe-form").submit()})}}(),function(){function once_user_orders_retrieved(order){var order_ref=$("#order_ref");order_ref.html(order.ref),order.payment=order.payment.toLowerCase(),$(".payment_method."+order.payment).show()}if(0!=$(".page-thank-you-premium").length){if($(".payment_method").hide(),storageAvailable("sessionStorage")){var completed_order=JSON.parse(sessionStorage.getItem("completed_order"));once_user_orders_retrieved(completed_order),sessionStorage.removeItem("completed_order"),Track.completed_order(completed_order.id,completed_order.ref,completed_order.voucher)}else retrieve_all_user_orders(function(status,response){if("success"==status){var orders=response.responseJSON.data.reverse(),order=orders[0];order={ref:order.reference,payment:order.payment.toLowerCase()},once_user_orders_retrieved(order)}});var uri=URI(window.location.search),query=uri.search(!0);uri.hasSearch("PayerID")&&uri.hasSearch("paymentId")?execute_paypal(query.paymentId,query.PayerID,"",function(text_status,response,billing_api_response,data){console.log(arguments),"success"==text_status&&(console.log(data),geny_cart.clear_cart())}):geny_cart.clear_cart()}}(),function(){0!=$(".page-checkout.page-sign-in").length&&get_current_user_info(function(text_status,response,license_api_response,data){data.customer_uuid&&(window.location=wp_vars.links["checkout-billing"])})}(),$(document).ready(function(){$('form input[type="submit"]:not(.not-enable-on-load)').removeAttr("disabled")}),$(window).load(adjustAnchor),window.addEventListener("hashchange",adjustAnchor,!1),$(function(){list_licenses(function(status,response,error_message,data){"success"==status&&0===Object.keys(response.responseJSON.bought).length&&$("#header_download_button").attr("href",wp_env.BASE_URL+pages.get)})}),$(function(){licenseApi.getAll().then(function(licenses){$(".userHaveNoLicense").hide(),$(".userHavePayingLicense").hide(),$(".userHaveOnlyTrialLicense").hide(),0===licenses.length&&$(".userHaveNoLicense").show(),licenses.some(License.isPaying)&&$(".userHavePayingLicense").show(),licenses.some(License.isTrial)&&!licenses.every(License.isPaying)&&($(".userHaveOnlyTrialLicense").show(),currentPage.isDownloadTrial()&&(window.location=window.wp_env.BASE_URL+pages.get)),licenses.some(License.isPaying)&&($(".userHaveOnlyTrialLicense").hide(),$(".userHavePayingLicense").show(),currentPage.isDownloadTrial()&&(window.location=window.wp_env.BASE_URL+pages.download))}).catch(function(err){$(".userHavePayingLicense").hide(),$(".userHaveOnlyTrialLicense").hide(),$(".userHaveNoLicense").show()}).then(function(){(page.isGenyKiosk()||page.isGenyDeploy())&&$(".hideOnOtherProducts").hide()}).then(function(){licensesLoaded=!0,pageLoaded&&($(".links-holder").show(),$loggedButton.length&&$loggedNav.length&&handleLoggedButton())})}),$(function(){$(".frm_forms input[type=file]").change(function(event){var fieldId=event.target.id,filename=event.target.files[0].name,$showIfFile=$(".show_if_file_"+fieldId),$filename=$(".filename_"+fieldId);filename?($showIfFile.show(),$filename.html(filename)):($showIfFile.hide(),$filename.html(""))}),$(".frm_forms .dropzone .remove_file").click(function(event){var fieldId=$(this).data("fieldid"),$showIfFile=$(".show_if_file_field_"+fieldId),$filename=$(".filename_field_"+fieldId),$input=$("#field_"+fieldId);$showIfFile.hide(),$filename.html(""),$input.val("")})}),$(function(){function currentPlatform(){return navigator.platform.indexOf("Win")!=-1?"windows":navigator.platform.indexOf("Mac")!=-1?"mac":"linux"}function rotateArray(array){return array.push(array.shift()),array}if(0!=$(".page-download-trial").length){for(var platforms=["windows","mac","linux"],centerIndex=Math.floor(platforms.length/2);platforms[centerIndex]!=currentPlatform();)rotateArray(platforms);platforms.forEach(function(platform){var template=$("#download-card-"+platform),templateInstance=template.clone();template.remove(),$(templateInstance).removeClass("hide"),$("#download-cards").append(templateInstance);var templateCardIcon=$("#download-card-icon-"+platform),templateCardIconInstance=templateCardIcon.clone();templateCardIcon.remove(),$(templateCardIconInstance).removeClass("hide"),$("#download-cards-icons").append(templateCardIconInstance)}),$(".download-card-"+currentPlatform()).addClass("download-card-primary"),$(".cgi-checkbox").click(function(event){var targetedClass=$(event.target).prop("name");$(event.target).is(":checked")?$("."+targetedClass).removeClass("disabled"):$("."+targetedClass).addClass("disabled")}),$(".download-btn").on("click",function(event){event.preventDefault(),$(event.target).hasClass("disabled")||request_trial_license(function(){window.location="/download-handler/?opt="+$(event.currentTarget).data("opt"),$(this).blur()}.bind(this))})}});
//# sourceMappingURL=../maps/main.min.js.map
